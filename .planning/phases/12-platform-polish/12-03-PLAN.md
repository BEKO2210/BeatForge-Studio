---
phase: 12-platform-polish
plan: 03
type: execute
wave: 2
depends_on: ["12-01", "12-02"]
files_modified:
  - src/App.css
  - src/components/AudioUpload.css
  - src/components/AudioPlayer.css
autonomous: false

must_haves:
  truths:
    - "App is usable on mobile devices (375px width)"
    - "Touch targets are at least 44x44px"
    - "No horizontal scroll on any screen size"
    - "PWA installs correctly on mobile"
  artifacts:
    - path: "src/App.css"
      provides: "Responsive styles for all components"
  key_links: []
---

<objective>
Polish responsive design for mobile and verify complete platform experience.

Purpose: Ensure the app works well on mobile devices and PWA installation works correctly.
Output: Mobile-optimized UI with verified PWA functionality.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plans in this phase
@.planning/phases/12-platform-polish/12-01-SUMMARY.md
@.planning/phases/12-platform-polish/12-02-SUMMARY.md

@src/App.css
@src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Improve mobile touch targets and spacing</name>
  <files>src/App.css, src/components/AudioPlayer.css</files>
  <action>
    1. Review and update touch targets:
       - Ensure all buttons have min 44x44px touch area
       - Add padding to small buttons if needed
       - Check play/pause, seek bar, preset buttons

    2. Improve mobile spacing:
       - Reduce excessive padding on very small screens (<375px)
       - Ensure content doesn't overflow on 320px screens
       - Check preset selector wraps correctly on narrow screens

    3. Add mobile-specific improvements:
       - Larger slider thumbs on touch devices (use @media (pointer: coarse))
       - Better tap feedback on buttons
       - Ensure modals/panels don't break on small screens

    4. Create src/components/AudioPlayer.css if it doesn't exist:
       - Extract AudioPlayer-specific styles or add responsive overrides
       - Ensure seek bar thumb is large enough for touch
  </action>
  <verify>No horizontal scroll at 320px viewport width</verify>
  <done>Touch targets meet 44x44px minimum, mobile spacing optimized</done>
</task>

<task type="auto">
  <name>Task 2: Add mobile-specific UI improvements</name>
  <files>src/App.css, src/index.css</files>
  <action>
    1. Add safe area insets for notched devices:
       - Use env(safe-area-inset-*) for bottom/top padding
       - Apply to app-container and fixed elements

    2. Improve scrolling behavior:
       - Add -webkit-overflow-scrolling: touch for smooth scroll
       - Ensure scroll containers don't conflict with body scroll

    3. Add viewport meta improvements in index.html:
       - Ensure viewport-fit=cover for full-screen experience
       - Add theme-color meta tag if not already present

    4. Polish header on mobile:
       - Consider collapsible header on scroll for more canvas space
       - Or simply ensure compact header sizing on small screens
  </action>
  <verify>App renders correctly in mobile responsive mode</verify>
  <done>Mobile UX improvements applied</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete platform polish including PWA, tier system, and responsive mobile UI</what-built>
  <how-to-verify>
    1. Desktop verification:
       - Run: npm run dev
       - Visit: http://localhost:5173/Meet-the-Beat-main/
       - Verify: All features work (upload, play, visualizer, export)
       - Check DevTools > Application > Service Workers (should show registered)
       - Check DevTools > Application > Manifest (should show valid manifest)

    2. Mobile verification (use DevTools device mode):
       - Set viewport to 375x667 (iPhone SE)
       - Verify: No horizontal scroll
       - Verify: All buttons are tappable (44x44px minimum)
       - Verify: Preset buttons wrap nicely
       - Verify: Canvas fits screen

    3. Tier system verification:
       - Verify: Watermark visible on canvas (free tier)
       - Click tier toggle to switch to Pro
       - Verify: Watermark disappears
       - Verify: Export panel shows 1080p option in Pro tier
       - Verify: Only 720p in Free tier

    4. PWA verification:
       - Run: npm run build && npm run preview
       - Check browser shows "Install" option (Chrome/Edge)
       - Or check DevTools > Application > Manifest shows install prompt available

    5. Offline verification (after build):
       - Load the page once
       - Go to DevTools > Network > check "Offline"
       - Refresh page
       - Verify: App still loads (from service worker cache)
  </how-to-verify>
  <resume-signal>Type "approved" if all verifications pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All responsive breakpoints work correctly
- [ ] Touch targets meet accessibility standards
- [ ] PWA installs and works offline
- [ ] Tier system functions correctly
- [ ] Human verification passed
</verification>

<success_criteria>

- All tasks completed
- Mobile UI is polished and usable
- PWA functionality verified working
- Tier system verified working
- Human approval received for complete platform experience
  </success_criteria>

<output>
After completion, create `.planning/phases/12-platform-polish/12-03-SUMMARY.md`
</output>
